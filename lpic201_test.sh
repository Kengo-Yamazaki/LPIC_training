#!/bin/bash
#
# LPIC練習問題スクリプト（複数問題対応版）
#

# ==============================
# 問題データ定義
# ==============================
# 各配列のインデックスが対応する
QUESTIONS=(
"問題1-1: リソースの使用量/使用率の調査結果はどのように利用できますか？最も適切なものを3つ選択してください。"
"問題1-2: Linuxで現在稼働しているプロセスを表示するコマンドはどれですか？"
)

CHOICES=(
"A. システム拡張時のキャパシティプランニングに利用する
B. 将来のリソース需要を予測する
C. 現状のシステムの問題を解決する
D. アプリケーションの不具合を解決する"
"A. ls
B. ps
C. df
D. top"
)

ANSWERS=(
"A,B,C"
"B"
)

# ==============================
# 出題処理
# ==============================
SCORE=0
TOTAL=${#QUESTIONS[@]}

for ((i=0; i<$TOTAL; i++)); do
    echo
    echo "=============================="
    echo "${QUESTIONS[$i]}"
    echo
    echo "${CHOICES[$i]}"
    echo

    read -p "あなたの答えを入力してください (例: A,B,C): " USER_INPUT
    echo "あなたの回答: $USER_INPUT"
    echo "正解: ${ANSWERS[$i]}"

    if [ "$USER_INPUT" = "${ANSWERS[$i]}" ]; then
        echo "✅ 正解です！"
        SCORE=$((SCORE+1))
    else
        echo "❌ 残念！"
    fi
    echo "=============================="
done

# ==============================
# 結果表示
# ==============================
echo
echo "=== 結果 ==="
echo "全 $TOTAL 問中 $SCORE 問正解しました！"
